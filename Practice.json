{

    "AWSTemplateFormatVersion" : "2010-09-09",

    "Description" : "My first Cloudformation Template!",

    "Parameters" : {
        "Environment" : {
            "Type" : "String",
            "Default" : "Development",
            "AllowedValues" : [ "Development", "Stage", "Production" ],
            "Description" : "Select the type of environment you wish to create."
        }
    },

    "Mappings" : {
            "InstanceSizeMap" : {
                "Development" : { 
                    "InstanceSize" : "t1.micro" 
                    },
                "Stage" : { 
                    "InstanceSize" : "m3.medium" 
                    },
                "Production" : { 
                    "InstanceSize" : "m3.medium" 
                }
        }
    },

    "Resources" : {
        "EC2Instance" : {
            "Type" : "AWS::EC2::Instance",
            "Properties" : {
                "AvailabilityZone" : "us-east-1a",
                "ImageId" : "ami-864d84ee",
                "InstanceType" : { "Fn::FindInMap" : [ "InstanceSizeMap", { "Ref" : "Environment" }, "InstanceSize" ] }
            }
        },
     },

    "Outputs" : {
        "NewInstance" : {
            "Value" : { "Fn::GetAtt" : [ "EC2Instance" , "PrivateIp" ] }
        }
    }
}
